import json

class Student:
    def __init__(self, roll, name, marks):
        self.roll = roll
        self.name = name
        self.marks = marks

    def to_dict(self):
        return {
            "roll": self.roll,
            "name": self.name,
            "marks": self.marks
        }


class StudentManager:
    def __init__(self, filename="students.json"):
        self.filename = filename
        self.students = []
        self.load_students()

    def add_student(self, roll, name, marks):
        student = Student(roll, name, marks)
        self.students.append(student)
        self.save_students()
        print("‚úÖ Student added successfully")

    def view_students(self):
        if not self.students:
            print("‚ö†Ô∏è No students found")
            return

        for s in self.students:
            print(f"Roll: {s.roll}, Name: {s.name}, Marks: {s.marks}")

    def save_students(self):
        with open(self.filename, "w") as f:
            json.dump([s.to_dict() for s in self.students], f)

    def load_students(self):
        try:
            with open(self.filename, "r") as f:
                data = json.load(f)
                for s in data:
                    self.students.append(Student(s["roll"], s["name"], s["marks"]))
        except FileNotFoundError:
            pass


def main():
    manager = StudentManager()

    while True:
        print("\n--- Student Management System ---")
        print("1. Add Student")
        print("2. View Students")
        print("3. Exit")

        choice = input("Enter choice: ")

        try:
            if choice == "1":
                roll = int(input("Enter Roll No: "))
                name = input("Enter Name: ")
                marks = float(input("Enter Marks: "))
                manager.add_student(roll, name, marks)

            elif choice == "2":
                manager.view_students()

            elif choice == "3":
                print("üëã Exiting program")
                break

            else:
                print("‚ùå Invalid choice")

        except ValueError:
            print("‚ö†Ô∏è Please enter valid numeric values")


if __name__ == "__main__":
    main()

